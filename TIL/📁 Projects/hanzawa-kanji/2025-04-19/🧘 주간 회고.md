`기간`  4월 14일 ~ 4월 18일

## 작업 요약

| 구분    | 작업 내용                                           |
| ----- | ----------------------------------------------- |
| 기능 추가 | 무한모드 UI/UX 구성                                   |
| 로직 분리 | `useQuizEngine` 훅 분리로 공통 로직 추출                  |
| 리팩토링  | 보기 선택 로직 개선 `choicePool`<br>`fetchQuizItems` 추출 |
| 버그 수정 | 보기 중복 제거<br>클릭 시 자동 `flip` 개선 등                 |

## 🛠 주요 작업 내역

### 1. InfiniteMode / LimitedMode 구조 개편

- `useQuizEngine` 훅 도입으로 **공통 상태 및 로직 분리**
- `mode`에 따라 `LIMITED`, `INFINITE`를 구분하여 fetch 및 처리 방식 자동 전환

> 코드 중복 제거, 유지보수성 증가, 재사용 가능성 확보

### 2. 보기 중복 로직 개선

- 보기 선택지에서 `Set`을 이용한 **id + display 중복 방지**
- 정답 포함 보장 + 셔플된 보기 제공으로 난이도 안정화
    
> `어려워 🤯` 보기 후보 수 부족 시 유사 보기 반복  
> `구현` 50문제마다 choicePool을 보충하는 방식 도입

### 3. 컴포넌트 세분화 및 스타일 개선

- `KanjiCard` → 퀴즈 모드에서 `front/back` 별도 content 갖도록 개선

### 4. UX 기능 개선

- 정답 보기 누르지 않으면 경고 출력 (`alertVisible`)
- ♾️ 무한 모드에서 퀴즈 종료 버튼 <br>→ 중간 종료 가능
- `disabled` 사용 검토
> 불편한 UX 같아서 해당 로직 폐기 🤯

## 🐛 버그 잡기

| 이슈               | 해결 방법                     |
| ---------------- | ------------------------- |
| 보기 중복됨           | `display` + `id` 기준 중복 제거 |
| 보기 선택 시 자동 flip됨 | `flipped` 상태 비교 로직 수정     |
| 클릭하면 보기 바뀜       | 상태가 고정되지 않던 문제 → 상태 고정 개선 |

## 회고

### 🏄 뿌듯한 구현

- `useQuizEngine` 훅 분리로 **UI와 로직의 완전한 분리**를 달성함
- **컴포넌트는 UI만 담당**, 로직은 훅 내부에서 처리하게끔 구조 개선
- 구조가 명확해져서 **향후 테스트 코드 도입도 수월할 것으로 기대**됨
> 수정 시에도 로직 단위로 대응할 수 있어 매우 만족!

### 😮‍💨 아쉬움 한 스푼···.

- 퀴즈 모드를 나눌 때 `mode` 값을 넘겨 **조건 분기 처리**한 방식은 찝찝한...😂
- `Strategy Pattern` 같은 디자인 패턴을 적용했으면 **더 확장성 있는 구조로 만들 수 있었을지도**

> 다음 프로젝트 때는 꼭 사둔 디자인패턴 강의를 수강하고
   프로젝트에 녹여볼테다🔥🔥

### 고심의 흔적
`보기(choices) 생성 로직`

| 고민 포인트          | 고려했던 방식                                             | 문제점                   |
| --------------- | --------------------------------------------------- | --------------------- |
| 보기 선택지<br>다양성   | 문제마다 `cursor` 기반 fetch                              | 과도한 fetch 발생 우려       |
| 대량의 보기<br>사전 로딩 | 처음에 2000개 가져오기                                      | 메모리 비효율<br>찝찝해😮‍💨   |
| 🛠️ 구현          | `choicePool`을 200개 수준으로 유지하고<br>**50문제마다 fetch 보충** | 중복도 낮추고<br>성능도 비교적 보호 |

- 결국은 `choicePool`이라는 상태를 따로 유지하기로 결정
- fetch시 일정 문제 수마다만 보기를 추가로 로딩하는 절충안으로 구현

### 🧩🧩 더 나아가

- `choicePool`을 처음엔 굳이 상태로 들고 있어야 하나 싶었지만···.<br>불필요한 fetch를 줄이면서 사용자 경험을 지키는 최선의 방법으로 판단

- 프로젝트에서 중요한 건 `완벽한 정답`이 아니라<br>현실적인 조건 안에서 **차악을 잘 고르는 능력**이 아닐까✨✨

> **코딩은 결국 트레이드오프의 미학.  
> 최선을 고르는 게 아니라, 최악을 피하는 방향을 찾아가는 것.**

> 다음주는 불꽃 CSS 시간이다🔥🔥
> 주말동안 **예술정신**을 한껏 불러 모으는 중